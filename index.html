<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OVA - Machine Learning para Niños</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Google Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" rel="stylesheet">
    
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* PANTALLA DE INTRO */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            /* Color morado reemplazado por degradado azul/teal */
            background: linear-gradient(359deg, #ffffff 0%, #284930 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        #ova-text {
            font-size: 15rem;
            font-weight: 700;
            color: #ffffff;
            opacity: 0;
            text-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        #credits {
            position: absolute;
            bottom: 15%;
            text-align: center;
            opacity: 0;
            width: 100%;
            padding: 0 20px;
        }

        /* Nombre: más grande y centrado */
        #credits-text {
            color: #ffffff;
            font-size: 3.5rem; /* aumentado */
            font-weight: 700;
            margin-bottom: 18px;
            text-align: center;
        }

        /* Logo de la universidad como imagen, responsive y más grande */
        #university-logo {
            width: 320px; /* mayor tamaño */
            height: auto;
            display: block;
            margin: 0 auto;
            max-width: 60vw;
        }

        #start-button {
            position: absolute;
            bottom: 10%;
            padding: 20px 60px;
            background: #ffd93d;
            border: none;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            opacity: 0;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        #start-button:hover {
            transform: scale(1.1);
        }

        /* PANTALLA DE NIVELES */
        #levels-screen {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 60px;
        }

        .header h1 {
            font-size: 3rem;
            color: #333;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.3rem;
            color: #666;
        }

        .levels-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .level-card {
            background: #ffffff;
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            opacity: 0;
            border: none; /* Quitamos todos los bordes */
        }

        .level-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .level-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #06b6d4; /* Color principal unificado */
        }

        .level-card h2 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 15px;
        }

        .level-card p {
            font-size: 1.1rem;
            color: #666;
            line-height: 1.6;
        }

        /* PANTALLA DE CONTENIDO */
        #content-screen {
            display: none;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .content-container {
            max-width: 900px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: #06b6d4; /* reemplazado */
            color: #ffffff;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 30px;
            transition: transform 0.3s ease;
        }

        .back-button:hover {
            transform: scale(1.05);
        }

        .content-title {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 30px;
            text-align: center;
        }

        .content-text {
            font-size: 1.3rem;
            color: #555;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .example-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }

        .example-box h3 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 20px;
        }

        .example-item {
            display: flex;
            align-items: center;
            gap: 20px;
            background: #ffffff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .example-item .material-symbols-rounded {
            font-size: 3rem;
            color: #06b6d4; /* reemplazado */
        }

        .example-item p {
            font-size: 1.2rem;
            color: #555;
        }

        /* JUEGO INTERACTIVO */
        .game-container {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
        }

        .game-title {
            font-size: 2rem;
            color: #ffffff;
            text-align: center;
            margin-bottom: 30px;
        }

        .game-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-option {
            background: #ffffff;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            border: 4px solid transparent;
        }

        .game-option:hover {
            transform: scale(1.05);
        }

        .game-option.selected {
            border-color: #ffd93d;
            background: #fffef0;
        }

        .game-option.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .game-option.incorrect {
            border-color: #ff6b6b;
            background: #ffebee;
        }

        .game-option img {
            width: 100px;
            height: 100px;
            margin-bottom: 15px;
        }

        .game-option p {
            font-size: 1.2rem;
            color: #333;
            font-weight: 600;
        }

        .check-button {
            display: block;
            margin: 0 auto;
            padding: 20px 50px;
            background: #ffd93d;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .check-button:hover {
            transform: scale(1.1);
        }

        .check-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result-message {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 20px;
            padding: 20px;
            border-radius: 15px;
            display: none;
        }

        .result-message.show {
            display: block;
        }

        .result-message.correct {
            background: #4caf50;
            color: #ffffff;
        }

        .result-message.incorrect {
            background: #ff6b6b;
            color: #ffffff;
        }

        /* Juego de colores */
        .color-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .color-box {
            aspect-ratio: 1;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 4px solid transparent;
        }

        .color-box:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .color-box.selected {
            border-color: #ffd93d;
            transform: scale(1.15);
        }

        .color-box.correct {
            border-color: #4caf50;
        }

        .color-box.incorrect {
            border-color: #ff6b6b;
        }

        /* Juego de secuencias */
        .sequence-container {
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }

        .sequence-display {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .sequence-item {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .sequence-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .sequence-option {
            width: 100px;
            height: 100px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 4px solid transparent;
        }

        .sequence-option:hover {
            transform: scale(1.1);
        }

        .sequence-option.selected {
            border-color: #ffd93d;
            transform: scale(1.15);
        }

        .sequence-option.correct {
            border-color: #4caf50;
        }

        .sequence-option.incorrect {
            border-color: #ff6b6b;
        }

        /* Animación de componentes internos */
        .computer-inside {
            /* reemplazado por degradado azul/teal */
            background: linear-gradient(135deg, #06b6d4 0%, #0096c7 100%);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .component-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: transform 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .component-card:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .component-card .material-symbols-rounded {
            font-size: 4rem;
            margin-bottom: 15px;
            display: block;
            color: #06b6d4; /* iconos actualizados */
        }

        .component-card h4 {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 10px;
        }

        .component-card p {
            font-size: 1rem;
            color: #666;
            line-height: 1.5;
        }

        .data-flow {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .flow-item {
            background: #ffffff;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            min-width: 120px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .flow-arrow {
            font-size: 3rem;
            color: #ffd93d;
        }

        /* Estilos para preguntas ABC */
        .quiz-container {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
        }

        .quiz-question {
            background: #ffffff;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .quiz-question h3 {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quiz-question .question-number {
            background: #06b6d4; /* reemplazado */
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
        }

        .quiz-option {
            background: #f5f5f5;
            border: 3px solid transparent;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quiz-option:hover {
            background: #e8e8e8;
            transform: translateX(10px);
        }

        .quiz-option .option-letter {
            background: #06b6d4; /* reemplazado */
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .quiz-option.selected {
            border-color: #ffd93d;
            background: #fffef0;
        }

        .quiz-option.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .quiz-option.correct .option-letter {
            background: #4caf50;
        }

        .quiz-option.incorrect {
            border-color: #ff6b6b;
            background: #ffebee;
        }

        .quiz-option.incorrect .option-letter {
            background: #ff6b6b;
        }

        .quiz-option p {
            margin: 0;
            font-size: 1.1rem;
            color: #333;
        }

        .quiz-submit {
            display: block;
            margin: 30px auto 0;
            padding: 20px 60px;
            background: #06b6d4; /* reemplazado */
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .quiz-submit:hover {
            transform: scale(1.1);
        }

        .quiz-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-score {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-top: 30px;
            padding: 30px;
            background: white;
            border-radius: 20px;
            display: none;
        }

        .quiz-score.show {
            display: block;
        }

        .quiz-score.perfect {
            background: linear-gradient(135deg, #4caf50 0%, #8bc34a 100%);
            color: white;
        }

        .quiz-score.good {
            background: linear-gradient(135deg, #ffd93d 0%, #ffeb3b 100%);
            color: #333;
        }

        .quiz-score.needs-improvement {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff8a80 100%);
            color: white;
        }

        /* Clasificación drag & drop */
        .classification-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .category-zone {
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            min-height: 200px;
            border: 3px dashed #ccc;
        }

        .category-zone h4 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .items-to-classify {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .classify-item {
            background: #ffffff;
            border-radius: 15px;
            padding: 20px;
            cursor: move;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .classify-item:hover {
            transform: scale(1.05);
        }

        .classify-item .material-symbols-rounded {
            font-size: 3rem;
        }

        .classify-item p {
            font-size: 1rem;
            color: #333;
            margin: 0;
        }

        .drop-zone {
            min-height: 150px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: flex-start;
            padding: 10px;
        }

        .drop-zone.drag-over {
            background: rgba(255, 217, 61, 0.2);
        }

        /* Responsivo */
        @media (max-width: 768px) {
            #ova-text {
                font-size: 8rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .levels-container {
                grid-template-columns: 1fr;
            }

            .content-container {
                padding: 30px;
            }

            .game-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Sonidos -->
    <audio id="startSound" preload="auto">
        <source src="assets/sounds/start.mp3" type="audio/mpeg">
    </audio>
    <audio id="clickSound" preload="auto">
        <source src="assets/sounds/click.mp3" type="audio/mpeg">
    </audio>
    <audio id="correctSound" preload="auto">
        <source src="assets/sounds/correct.mp3" type="audio/mpeg">
    </audio>
    <audio id="incorrectSound" preload="auto">
        <source src="assets/sounds/incorrect.mp3" type="audio/mpeg">
    </audio>
    <audio id="levelCompleteSound" preload="auto">
        <source src="assets/sounds/level-complete.mp3" type="audio/mpeg">
    </audio>

    <!-- PANTALLA DE INTRO -->
    <div id="intro-screen">
        <div id="ova-text">OVA</div>
        
        <div id="credits">
            <p id="credits-text">Creado por Johan Sánchez</p>
            <!-- Logo desde la carpeta assets -->
            <img id="university-logo" src="assets/Escudo_Udenar.png" alt="Escudo Universidad de Nariño">
        </div>
        
        <button id="start-button">Comenzar Aventura</button>
    </div>

    <!-- PANTALLA DE NIVELES -->
    <div id="levels-screen">
        <div class="header">
            <h1>Aprende Machine Learning Jugando</h1>
            <p>Selecciona un nivel para comenzar tu aventura</p>
        </div>

        <div class="levels-container">
            <div class="level-card blue" data-level="1">
                <span class="material-symbols-rounded level-icon">lightbulb</span>
                <h2>Nivel 1</h2>
                <p>Descubre qué es Machine Learning y cómo las computadoras aprenden</p>
            </div>

            <div class="level-card red" data-level="2">
                <span class="material-symbols-rounded level-icon">visibility</span>
                <h2>Nivel 2</h2>
                <p>Conoce ejemplos divertidos de Machine Learning en tu vida diaria</p>
            </div>

            <div class="level-card yellow" data-level="3">
                <span class="material-symbols-rounded level-icon">sports_esports</span>
                <h2>Nivel 3</h2>
                <p>Juega y pon a prueba lo que has aprendido</p>
            </div>

            <div class="level-card blue" data-level="4">
                <span class="material-symbols-rounded level-icon">memory</span>
                <h2>Nivel 4</h2>
                <p>Viaja dentro de la computadora y descubre cómo funciona</p>
            </div>

            <div class="level-card red" data-level="5">
                <span class="material-symbols-rounded level-icon">psychology</span>
                <h2>Nivel 5</h2>
                <p>Aprende cómo las máquinas reconocen imágenes y colores</p>
            </div>

            <div class="level-card yellow" data-level="6">
                <span class="material-symbols-rounded level-icon">auto_awesome</span>
                <h2>Nivel 6</h2>
                <p>Descubre cómo predicen las máquinas y toman decisiones</p>
            </div>

            <div class="level-card blue" data-level="7">
                <span class="material-symbols-rounded level-icon">school</span>
                <h2>Nivel 7</h2>
                <p>Aprende sobre datos y cómo las máquinas los usan para ser inteligentes</p>
            </div>

            <div class="level-card red" data-level="8">
                <span class="material-symbols-rounded level-icon">rocket_launch</span>
                <h2>Nivel 8</h2>
                <p>Descubre el futuro del Machine Learning y lo que viene</p>
            </div>

            <div class="level-card yellow" data-level="9">
                <span class="material-symbols-rounded level-icon">emoji_events</span>
                <h2>Nivel 9</h2>
                <p>Examen final: demuestra todo lo que has aprendido</p>
            </div>
        </div>
    </div>

    <!-- PANTALLA DE CONTENIDO -->
    <div id="content-screen">
        <div class="content-container">
            <button class="back-button">
                <span class="material-symbols-rounded">arrow_back</span>
                Volver
            </button>
            <div id="content-area"></div>
        </div>
    </div>

    <script>
        // Gestión de sonidos
        const sounds = {
            start: document.getElementById('startSound'),
            click: document.getElementById('clickSound'),
            correct: document.getElementById('correctSound'),
            incorrect: document.getElementById('incorrectSound'),
            levelComplete: document.getElementById('levelCompleteSound')
        };

        // Función para reproducir sonidos
        function playSound(soundId) {
            const sound = sounds[soundId];
            if (sound) {
                sound.currentTime = 0; // Reiniciar el sonido si ya está reproduciéndose
                sound.play().catch(error => console.log('Error reproduciendo sonido:', error));
            }
        }

        // ANIMACIÓN DE INTRO
        const introTimeline = gsap.timeline();

        introTimeline
            .to('#ova-text', {
                opacity: 1,
                scale: 1,
                duration: 1.5,
                ease: 'power3.out'
            })
            .to('#ova-text', {
                scale: 0.3,
                opacity: 0,
                duration: 1,
                ease: 'power3.in',
                delay: 1
            })
            .to('#credits', {
                opacity: 1,
                y: -20,
                duration: 1,
                ease: 'power3.out'
            })
            .to('#start-button', {
                opacity: 1,
                duration: 0.5,
                ease: 'power3.out'
            });

        // BOTÓN DE INICIO
        document.getElementById('start-button').addEventListener('click', () => {
            playSound('start');
            gsap.to('#intro-screen', {
                opacity: 0,
                duration: 0.8,
                onComplete: () => {
                    document.getElementById('intro-screen').style.display = 'none';
                    document.getElementById('levels-screen').style.display = 'block';
                    
                    // Animar tarjetas de niveles
                    gsap.to('.level-card', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        stagger: 0.2,
                        ease: 'power3.out'
                    });
                }
            });
        });

        // CONTENIDO DE LOS NIVELES
        const levelContent = {
            1: `
                <h1 class="content-title">¿Qué es Machine Learning?</h1>
                <p class="content-text">
                    Machine Learning es como enseñar a una computadora a aprender por sí misma, 
                    igual que tú aprendes cosas nuevas cada día. Imagina que le muestras muchas 
                    fotos de gatos a una computadora, y después de ver muchas, ella solita puede 
                    reconocer cuando ve un gato nuevo.
                </p>
                <div class="example-box">
                    <h3>Es como cuando tú aprendes:</h3>
                    <div class="example-item">
                        <span class="material-symbols-rounded">school</span>
                        <p>Practicas sumar muchas veces hasta que lo haces sin pensar</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">directions_bike</span>
                        <p>Caes de la bicicleta varias veces hasta que aprendes el equilibrio</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">pets</span>
                        <p>Conoces diferentes animales hasta que puedes nombrarlos todos</p>
                    </div>
                </div>
                <p class="content-text">
                    Las computadoras con Machine Learning aprenden de la misma manera: 
                    necesitan practicar y ver muchos ejemplos para volverse cada vez mejores.
                </p>
            `,
            2: `
                <h1 class="content-title">Machine Learning en Tu Vida</h1>
                <p class="content-text">
                    El Machine Learning está en todas partes, ayudándote todos los días 
                    sin que te des cuenta. Veamos algunos ejemplos divertidos:
                </p>
                <div class="example-box">
                    <h3>Ejemplos mágicos:</h3>
                    <div class="example-item">
                        <span class="material-symbols-rounded">music_note</span>
                        <p>Las aplicaciones de música aprenden qué canciones te gustan y te recomiendan nuevas</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">photo_camera</span>
                        <p>Las cámaras de los teléfonos reconocen tu cara para tomar mejores fotos</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">videogame_asset</span>
                        <p>Los videojuegos usan Machine Learning para que los personajes sean más inteligentes</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">translate</span>
                        <p>Los traductores aprenden idiomas mirando millones de palabras y frases</p>
                    </div>
                </div>
                <p class="content-text">
                    Todas estas cosas funcionan porque las computadoras han aprendido 
                    de muchos ejemplos, igual que tú aprendes en la escuela cada día.
                </p>
            `,
            3: `
                <h1 class="content-title">Juega y Aprende</h1>
                <p class="content-text">
                    Ahora es tu turno de ser como una computadora con Machine Learning. 
                    Vamos a jugar a reconocer patrones, igual que lo hacen las máquinas inteligentes.
                </p>
                
                <!-- JUEGO 1: Encuentra el diferente -->
                <div class="game-container">
                    <h2 class="game-title">Juego 1: ¿Cuál es diferente?</h2>
                    <p style="color: white; text-align: center; margin-bottom: 20px;">
                        Las computadoras aprenden a encontrar patrones. Encuentra la opción diferente:
                    </p>
                    <div class="game-options" id="game1-options">
                        <div class="game-option" data-answer="incorrect">
                            <span class="material-symbols-rounded" style="font-size: 5rem; color: #ff6b6b;">pets</span>
                            <p>Perro</p>
                        </div>
                        <div class="game-option" data-answer="incorrect">
                            <span class="material-symbols-rounded" style="font-size: 5rem; color: #ff6b6b;">pets</span>
                            <p>Gato</p>
                        </div>
                        <div class="game-option" data-answer="correct">
                            <span class="material-symbols-rounded" style="font-size: 5rem; color: #4caf50;">directions_car</span>
                            <p>Carro</p>
                        </div>
                        <div class="game-option" data-answer="incorrect">
                            <span class="material-symbols-rounded" style="font-size: 5rem; color: #ff6b6b;">pets</span>
                            <p>Conejo</p>
                        </div>
                    </div>
                    <button class="check-button" id="check-game1" disabled>Verificar Respuesta</button>
                    <div class="result-message" id="result-game1"></div>
                </div>

                <!-- JUEGO 2: Colores -->
                <div class="game-container" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                    <h2 class="game-title">Juego 2: Encuentra el color más oscuro</h2>
                    <p style="color: #333; text-align: center; margin-bottom: 20px;">
                        Las máquinas aprenden a distinguir colores. Selecciona el cuadro más oscuro:
                    </p>
                    <div class="color-grid" id="color-grid">
                        <div class="color-box" style="background: #ffcccb;" data-brightness="240"></div>
                        <div class="color-box" style="background: #ff9999;" data-brightness="200"></div>
                        <div class="color-box" style="background: #ff6666;" data-brightness="160"></div>
                        <div class="color-box" style="background: #ff4444;" data-brightness="130"></div>
                        <div class="color-box" style="background: #ff0000;" data-brightness="85" data-answer="correct"></div>
                        <div class="color-box" style="background: #ffaaaa;" data-brightness="210"></div>
                    </div>
                    <button class="check-button" id="check-game2" disabled>Verificar Respuesta</button>
                    <div class="result-message" id="result-game2"></div>
                </div>

                <!-- JUEGO 3: Secuencias -->
                <div class="game-container" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
                    <h2 class="game-title">Juego 3: Completa la secuencia</h2>
                    <p style="color: #333; text-align: center; margin-bottom: 20px;">
                        Las máquinas predicen patrones. ¿Qué sigue en esta secuencia?
                    </p>
                    <div class="sequence-container">
                        <div class="sequence-display">
                            <div class="sequence-item" style="background: #ff6b6b;">
                                <span class="material-symbols-rounded" style="color: white;">circle</span>
                            </div>
                            <div class="sequence-item" style="background: #4ecdc4;">
                                <span class="material-symbols-rounded" style="color: white;">square</span>
                            </div>
                            <div class="sequence-item" style="background: #ff6b6b;">
                                <span class="material-symbols-rounded" style="color: white;">circle</span>
                            </div>
                            <div class="sequence-item" style="background: #4ecdc4;">
                                <span class="material-symbols-rounded" style="color: white;">square</span>
                            </div>
                            <div class="sequence-item" style="background: #ddd;">
                                <span style="color: #999; font-size: 2rem;">?</span>
                            </div>
                        </div>
                        <div class="sequence-options" id="sequence-options">
                            <div class="sequence-option" style="background: #4ecdc4;" data-answer="incorrect">
                                <span class="material-symbols-rounded" style="color: white;">square</span>
                            </div>
                            <div class="sequence-option" style="background: #ff6b6b;" data-answer="correct">
                                <span class="material-symbols-rounded" style="color: white;">circle</span>
                            </div>
                            <div class="sequence-option" style="background: #ffd93d;" data-answer="incorrect">
                                <span class="material-symbols-rounded" style="color: white;">change_history</span>
                            </div>
                        </div>
                    </div>
                    <button class="check-button" id="check-game3" disabled>Verificar Respuesta</button>
                    <div class="result-message" id="result-game3"></div>
                </div>

                <p class="content-text" style="margin-top: 30px;">
                    Felicidades por completar todos los juegos. Ahora entiendes cómo las 
                    computadoras aprenden a reconocer patrones, colores y secuencias.
                </p>
            `,
            4: `
                <h1 class="content-title">Viaje al Interior de la Computadora</h1>
                <p class="content-text">
                    ¿Alguna vez te has preguntado qué hay dentro de una computadora? Es como 
                    un cerebro electrónico con muchas partes trabajando juntas. Vamos a conocer 
                    las partes más importantes que hacen que la computadora piense y aprenda.
                </p>
                
                <div class="computer-inside">
                    <h3 style="color: white; text-align: center; margin-bottom: 30px; font-size: 2rem;">
                        Las Partes Mágicas de la Computadora
                    </h3>
                    <div class="component-grid">
                        <div class="component-card">
                            <span class="material-symbols-rounded" style="color: #667eea;">memory</span>
                            <h4>Procesador (CPU)</h4>
                            <p>Es el cerebro de la computadora. Piensa muy rápido y hace todos los cálculos</p>
                        </div>
                        <div class="component-card">
                            <span class="material-symbols-rounded" style="color: #ff6b6b;">storage</span>
                            <h4>Memoria (RAM)</h4>
                            <p>Guarda información temporal, como cuando recuerdas algo por un momento</p>
                        </div>
                        <div class="component-card">
                            <span class="material-symbols-rounded" style="color: #4ecdc4;">save</span>
                            <h4>Disco Duro</h4>
                            <p>Guarda toda la información para siempre, como tus fotos y juegos favoritos</p>
                        </div>
                        <div class="component-card">
                            <span class="material-symbols-rounded" style="color: #ffd93d;">cable</span>
                            <h4>Cables y Conexiones</h4>
                            <p>Llevan información de un lado a otro, como las venas llevan sangre en tu cuerpo</p>
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <h3>¿Cómo trabajan juntas estas partes?</h3>
                    <div class="data-flow">
                        <div class="flow-item">
                            <span class="material-symbols-rounded" style="font-size: 3rem; color: #667eea;">input</span>
                            <p><strong>1. Entrada</strong></p>
                            <p>Tú escribes o tocas</p>
                        </div>
                        <span class="material-symbols-rounded flow-arrow">arrow_forward</span>
                        <div class="flow-item">
                            <span class="material-symbols-rounded" style="font-size: 3rem; color: #ff6b6b;">memory</span>
                            <p><strong>2. Proceso</strong></p>
                            <p>El cerebro piensa</p>
                        </div>
                        <span class="material-symbols-rounded flow-arrow">arrow_forward</span>
                        <div class="flow-item">
                            <span class="material-symbols-rounded" style="font-size: 3rem; color: #4ecdc4;">output</span>
                            <p><strong>3. Salida</strong></p>
                            <p>Ves el resultado</p>
                        </div>
                    </div>
                </div>

                <p class="content-text">
                    Cuando una computadora usa Machine Learning, todas estas partes trabajan 
                    juntas para aprender. El procesador piensa y aprende de los datos, la memoria 
                    guarda lo que está aprendiendo en ese momento, y el disco duro guarda todo 
                    lo que ya aprendió para siempre. Es como cuando estudias para un examen: 
                    tu cerebro piensa, recuerdas temporalmente y luego lo guardas en tu memoria 
                    a largo plazo.
                </p>
            `,
            5: `
                <h1 class="content-title">Reconocimiento de Imágenes</h1>
                <p class="content-text">
                    Las computadoras pueden aprender a ver y reconocer cosas en imágenes, 
                    igual que tú reconoces a tus amigos cuando los ves. Esto se llama 
                    reconocimiento de imágenes o visión por computadora.
                </p>
                <div class="example-box">
                    <h3>¿Cómo aprenden las máquinas a ver?</h3>
                    <div class="example-item">
                        <span class="material-symbols-rounded">image</span>
                        <p>Les mostramos miles de fotos de perros hasta que aprenden cómo se ve un perro</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">palette</span>
                        <p>Aprenden a distinguir colores, formas y tamaños de los objetos</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">face</span>
                        <p>Pueden reconocer caras y saber si estás sonriendo o triste</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">qr_code_scanner</span>
                        <p>Leen códigos QR y pueden traducir texto de fotos</p>
                    </div>
                </div>
                <p class="content-text">
                    Cada vez que tu teléfono reconoce tu cara para desbloquearse, 
                    está usando Machine Learning para ver. Las máquinas necesitan 
                    practicar mucho, viendo millones de ejemplos antes de ser buenas reconociendo imágenes.
                </p>
            `,
            6: `
                <h1 class="content-title">Predicciones Inteligentes</h1>
                <p class="content-text">
                    Una de las cosas más increíbles que pueden hacer las máquinas es predecir 
                    qué va a pasar después. Es como cuando tú adivinas que va a llover 
                    porque ves nubes grises, pero las máquinas lo hacen con números y datos.
                </p>
                <div class="example-box">
                    <h3>¿Qué pueden predecir las máquinas?</h3>
                    <div class="example-item">
                        <span class="material-symbols-rounded">cloud</span>
                        <p>El clima: si va a llover mañana o hacer sol</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">movie</span>
                        <p>Qué película te gustará según las que ya has visto</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">directions</span>
                        <p>Cuánto tiempo tardarás en llegar a un lugar según el tráfico</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">shopping_cart</span>
                        <p>Qué productos te pueden interesar cuando compras en línea</p>
                    </div>
                </div>
                <p class="content-text">
                    Las máquinas miran patrones en información del pasado para hacer sus 
                    predicciones. Mientras más información tienen, mejores son sus predicciones. 
                    Es como cuando tú aprendes que después del recreo viene la clase de matemáticas, 
                    y ya lo sabes porque pasa todos los días.
                </p>
            `,
            7: `
                <h1 class="content-title">Desafío Final: Clasificación Inteligente</h1>
                <p class="content-text">
                    Has aprendido mucho sobre Machine Learning. Ahora es momento del desafío final. 
                    Las máquinas necesitan aprender a clasificar cosas en grupos. Tu misión es 
                    ayudar a la computadora a clasificar correctamente.
                </p>

                <div class="game-container" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <h2 class="game-title">Clasifica según corresponda</h2>
                    <p style="color: white; text-align: center; margin-bottom: 20px;">
                        Arrastra cada elemento a la categoría correcta: Animales o Transporte
                    </p>
                    
                    <div class="items-to-classify" id="items-to-classify">
                        <div class="classify-item" draggable="true" data-category="animal">
                            <span class="material-symbols-rounded" style="color: #ff6b6b;">pets</span>
                            <p>Perro</p>
                        </div>
                        <div class="classify-item" draggable="true" data-category="transport">
                            <span class="material-symbols-rounded" style="color: #4ecdc4;">directions_car</span>
                            <p>Carro</p>
                        </div>
                        <div class="classify-item" draggable="true" data-category="animal">
                            <span class="material-symbols-rounded" style="color: #ff6b6b;">flutter</span>
                            <p>Pájaro</p>
                        </div>
                        <div class="classify-item" draggable="true" data-category="transport">
                            <span class="material-symbols-rounded" style="color: #4ecdc4;">flight</span>
                            <p>Avión</p>
                        </div>
                        <div class="classify-item" draggable="true" data-category="animal">
                            <span class="material-symbols-rounded" style="color: #ff6b6b;">cruelty_free</span>
                            <p>Conejo</p>
                        </div>
                        <div class="classify-item" draggable="true" data-category="transport">
                            <span class="material-symbols-rounded" style="color: #4ecdc4;">directions_bike</span>
                            <p>Bicicleta</p>
                        </div>
                    </div>

                    <div class="classification-container">
                        <div class="category-zone">
                            <h4>Animales</h4>
                            <div class="drop-zone" data-category="animal"></div>
                        </div>
                        <div class="category-zone">
                            <h4>Transporte</h4>
                            <div class="drop-zone" data-category="transport"></div>
                        </div>
                    </div>

                    <button class="check-button" id="check-classification" disabled>Verificar Clasificación</button>
                    <div class="result-message" id="result-classification"></div>
                </div>

                <p class="content-text" style="margin-top: 30px;">
                    ¡Felicitaciones! Has completado todos los niveles. Ahora sabes cómo funcionan 
                    las máquinas inteligentes: aprenden de ejemplos, reconocen patrones, hacen 
                    predicciones y clasifican información. Eres todo un experto en Machine Learning.
                </p>
            `,
            8: `
                <h1 class="content-title">El Futuro del Machine Learning</h1>
                <p class="content-text">
                    El Machine Learning está evolucionando rápidamente. En el futuro, podríamos ver:
                </p>
                <div class="example-box">
                    <h3>Lo que viene:</h3>
                    <div class="example-item">
                        <span class="material-symbols-rounded">smart_toy</span>
                        <p>Robots que aprenden por sí mismos y pueden realizar tareas complejas</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">health_and_safety</span>
                        <p>Máquinas que ayudan a los médicos a diagnosticar enfermedades más rápido</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">electric_car</span>
                        <p>Vehículos autónomos que nos llevan a cualquier lugar de forma segura</p>
                    </div>
                    <div class="example-item">
                        <span class="material-symbols-rounded">language</span>
                        <p>Traductores instantáneos que eliminan las barreras del idioma</p>
                    </div>
                </div>
                <p class="content-text">
                    El futuro del Machine Learning es emocionante y lleno de posibilidades. 
                    ¡Tú podrías ser parte de crear estas tecnologías!
                </p>
            `,
            9: `
                <h1 class="content-title">Examen Final</h1>
                <p class="content-text">
                    ¡Es hora de demostrar todo lo que has aprendido sobre Machine Learning!
                    Responde las siguientes preguntas:
                </p>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <h3><span class="question-number">1</span> ¿Qué es Machine Learning?</h3>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">
                                <span class="option-letter">A</span>
                                <p>Un tipo de videojuego</p>
                            </div>
                            <div class="quiz-option" data-correct="true">
                                <span class="option-letter">B</span>
                                <p>Enseñar a las computadoras a aprender por sí mismas</p>
                            </div>
                            <div class="quiz-option" data-correct="false">
                                <span class="option-letter">C</span>
                                <p>Un lenguaje de programación</p>
                            </div>
                        </div>
                    </div>
                    <div class="quiz-question">
                        <h3><span class="question-number">2</span> ¿Qué necesitan las computadoras para aprender?</h3>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">
                                <span class="option-letter">A</span>
                                <p>Electricidad</p>
                            </div>
                            <div class="quiz-option" data-correct="false">
                                <span class="option-letter">B</span>
                                <p>Un teclado y un mouse</p>
                            </div>
                            <div class="quiz-option" data-correct="true">
                                <span class="option-letter">C</span>
                                <p>Muchos ejemplos y datos</p>
                            </div>
                        </div>
                    </div>
                    <div class="quiz-question">
                        <h3><span class="question-number">3</span> ¿Cuál de estos es un ejemplo de Machine Learning?</h3>
                        <div class="quiz-options">
                            <div class="quiz-option" data-correct="false">
                                <span class="option-letter">A</span>
                                <p>Una calculadora</p>
                            </div>
                            <div class="quiz-option" data-correct="true">
                                <span class="option-letter">B</span>
                                <p>Recomendaciones de YouTube</p>
                            </div>
                            <div class="quiz-option" data-correct="false">
                                <span class="option-letter">C</span>
                                <p>Una lámpara</p>
                            </div>
                        </div>
                    </div>
                    <button class="quiz-submit" id="submit-quiz">Enviar Respuestas</button>
                    <div class="quiz-score" id="quiz-score"></div>
                </div>
            `
        };

        // NAVEGACIÓN A NIVELES
        document.querySelectorAll('.level-card').forEach(card => {
            card.addEventListener('click', () => {
                playSound('click');
                const level = card.dataset.level;
                
                gsap.to('#levels-screen', {
                    opacity: 0,
                    duration: 0.5,
                    onComplete: () => {
                        document.getElementById('levels-screen').style.display = 'none';
                        document.getElementById('content-screen').style.display = 'block';
                        document.getElementById('content-area').innerHTML = levelContent[level];
                        
                        // Inicializar juegos según el nivel
                        if (level === '3') {
                            initGame1();
                            initGame2();
                            initGame3();
                        } else if (level === '7') {
                            initClassificationGame();
                        } else if (level === '9') {
                            initQuiz();
                        }
                        
                        gsap.fromTo('#content-screen', 
                            { opacity: 0, y: 50 },
                            { opacity: 1, y: 0, duration: 0.8, ease: 'power3.out' }
                        );
                    }
                });
            });
        });

        // BOTÓN VOLVER
        document.querySelector('.back-button').addEventListener('click', () => {
            playSound('click');
            gsap.to('#content-screen', {
                opacity: 0,
                duration: 0.5,
                onComplete: () => {
                    document.getElementById('content-screen').style.display = 'none';
                    document.getElementById('levels-screen').style.display = 'block';
                    
                    gsap.to('#levels-screen', {
                        opacity: 1,
                        duration: 0.5
                    });
                }
            });
        });

        // LÓGICA DEL JUEGO 1: Encuentra el diferente
        function initGame1() {
            let selectedAnswer = null;
            const options = document.querySelectorAll('#game1-options .game-option');
            const checkButton = document.getElementById('check-game1');
            const resultMessage = document.getElementById('result-game1');

            options.forEach(option => {
                option.addEventListener('click', () => {
                    options.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    selectedAnswer = option.dataset.answer;
                    checkButton.disabled = false;
                });
            });

            checkButton.addEventListener('click', () => {
                if (!selectedAnswer) return;

                options.forEach(option => {
                    if (option.dataset.answer === 'correct') {
                        option.classList.add('correct');
                    } else if (option.classList.contains('selected')) {
                        option.classList.add('incorrect');
                    }
                });

                checkButton.disabled = true;
                resultMessage.classList.add('show');

                if (selectedAnswer === 'correct') {
                    playSound('correct');
                    resultMessage.textContent = '¡Excelente! El carro es diferente porque no es un animal';
                    resultMessage.classList.add('correct');
                    gsap.to('#game1-options', {
                        scale: 1.05,
                        duration: 0.3,
                        yoyo: true,
                        repeat: 1
                    });
                } else {
                    playSound('incorrect');
                    resultMessage.textContent = 'Intenta de nuevo. Busca cuál no es un animal';
                    resultMessage.classList.add('incorrect');
                }
            });
        }

        // LÓGICA DEL JUEGO 2: Colores
        function initGame2() {
            let selectedAnswer = null;
            const colorBoxes = document.querySelectorAll('#color-grid .color-box');
            const checkButton = document.getElementById('check-game2');
            const resultMessage = document.getElementById('result-game2');

            colorBoxes.forEach(box => {
                box.addEventListener('click', () => {
                    colorBoxes.forEach(b => b.classList.remove('selected'));
                    box.classList.add('selected');
                    selectedAnswer = box.dataset.answer;
                    checkButton.disabled = false;
                });
            });

            checkButton.addEventListener('click', () => {
                if (!selectedAnswer) return;

                colorBoxes.forEach(box => {
                    if (box.dataset.answer === 'correct') {
                        box.classList.add('correct');
                    } else if (box.classList.contains('selected')) {
                        box.classList.add('incorrect');
                    }
                });

                checkButton.disabled = true;
                resultMessage.classList.add('show');

                if (selectedAnswer === 'correct') {
                    resultMessage.textContent = '¡Perfecto! Encontraste el color más oscuro';
                    resultMessage.classList.add('correct');
                    gsap.to('#color-grid', {
                        scale: 1.05,
                        duration: 0.3,
                        yoyo: true,
                        repeat: 1
                    });
                } else {
                    resultMessage.textContent = 'Casi. Busca el rojo más oscuro';
                    resultMessage.classList.add('incorrect');
                }
            });
        }

        // LÓGICA DEL JUEGO 3: Secuencias
        function initGame3() {
            let selectedAnswer = null;
            const options = document.querySelectorAll('#sequence-options .sequence-option');
            const checkButton = document.getElementById('check-game3');
            const resultMessage = document.getElementById('result-game3');

            options.forEach(option => {
                option.addEventListener('click', () => {
                    options.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    selectedAnswer = option.dataset.answer;
                    checkButton.disabled = false;
                });
            });

            checkButton.addEventListener('click', () => {
                if (!selectedAnswer) return;

                options.forEach(option => {
                    if (option.dataset.answer === 'correct') {
                        option.classList.add('correct');
                    } else if (option.classList.contains('selected')) {
                        option.classList.add('incorrect');
                    }
                });

                checkButton.disabled = true;
                resultMessage.classList.add('show');

                if (selectedAnswer === 'correct') {
                    resultMessage.textContent = '¡Increíble! El círculo rojo continúa el patrón';
                    resultMessage.classList.add('correct');
                    gsap.to('.sequence-container', {
                        scale: 1.05,
                        duration: 0.3,
                        yoyo: true,
                        repeat: 1
                    });
                } else {
                    resultMessage.textContent = 'Observa el patrón: círculo, cuadrado, círculo...';
                    resultMessage.classList.add('incorrect');
                }
            });
        }

        // LÓGICA DEL JUEGO DE CLASIFICACIÓN (NIVEL 7)
        function initClassificationGame() {
            let draggedElement = null;
            const items = document.querySelectorAll('.classify-item');
            const dropZones = document.querySelectorAll('.drop-zone');
            const checkButton = document.getElementById('check-classification');
            const resultMessage = document.getElementById('result-classification');

            items.forEach(item => {
                item.addEventListener('dragstart', (e) => {
                    draggedElement = e.target;
                    e.target.style.opacity = '0.5';
                });

                item.addEventListener('dragend', (e) => {
                    e.target.style.opacity = '1';
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('drag-over');
                });

                zone.addEventListener('dragleave', () => {
                    zone.classList.remove('drag-over');
                });

                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    
                    if (draggedElement) {
                        zone.appendChild(draggedElement);
                        checkButton.disabled = false;
                    }
                });
            });

            checkButton.addEventListener('click', () => {
                let allCorrect = true;
                
                dropZones.forEach(zone => {
                    const zoneCategory = zone.dataset.category;
                    const itemsInZone = zone.querySelectorAll('.classify-item');
                    
                    itemsInZone.forEach(item => {
                        const itemCategory = item.dataset.category;
                        
                        if (itemCategory === zoneCategory) {
                            item.style.border = '3px solid #4caf50';
                        } else {
                            item.style.border = '3px solid #ff6b6b';
                            allCorrect = false;
                        }
                    });
                });

                checkButton.disabled = true;
                resultMessage.classList.add('show');

                if (allCorrect) {
                    playSound('levelComplete');
                    resultMessage.textContent = '¡Felicidades! Has clasificado todo perfectamente';
                    resultMessage.classList.add('correct');
                    
                    gsap.to('.classification-container', {
                        scale: 1.05,
                        duration: 0.5,
                        yoyo: true,
                        repeat: 1,
                        ease: 'power2.out'
                    });
                } else {
                    playSound('incorrect');
                    resultMessage.textContent = 'Algunos elementos están en el lugar equivocado. Revisa tu clasificación';
                    resultMessage.classList.add('incorrect');
                    
                    // Permitir reintentar después de 2 segundos
                    setTimeout(() => {
                        checkButton.disabled = false;
                        resultMessage.classList.remove('show');
                        
                        document.querySelectorAll('.classify-item').forEach(item => {
                            item.style.border = 'none';
                        });
                    }, 2000);
                }
            });
        }

        // LÓGICA DEL QUIZ (NIVEL 9)
        function initQuiz() {
            const questions = document.querySelectorAll('.quiz-question');
            const submitButton = document.getElementById('submit-quiz');
            const scoreDisplay = document.getElementById('quiz-score');
            let answers = {};
            let canSubmit = false;

            questions.forEach((question, qIndex) => {
                const options = question.querySelectorAll('.quiz-option');
                
                options.forEach(option => {
                    option.addEventListener('click', () => {
                        // Remover selección previa en esta pregunta
                        options.forEach(opt => opt.classList.remove('selected'));
                        
                        // Seleccionar opción
                        option.classList.add('selected');
                        answers[qIndex] = {
                            correct: option.dataset.correct === 'true',
                            option: option
                        };

                        // Habilitar botón si todas las preguntas están respondidas
                        if (Object.keys(answers).length === questions.length) {
                            submitButton.disabled = false;
                        }
                    });
                });
            });

            submitButton.addEventListener('click', () => {
                let correctCount = 0;
                
                // Marcar respuestas
                Object.values(answers).forEach(answer => {
                    if (answer.correct) {
                        answer.option.classList.add('correct');
                        correctCount++;
                    } else {
                        answer.option.classList.add('incorrect');
                        
                        // Mostrar la respuesta correcta
                        const correctOption = answer.option.parentElement.querySelector('[data-correct="true"]');
                        if (correctOption) {
                            correctOption.classList.add('correct');
                        }
                    }
                });

                // Deshabilitar todas las opciones
                document.querySelectorAll('.quiz-option').forEach(opt => {
                    opt.style.pointerEvents = 'none';
                });

                submitButton.disabled = true;

                // Mostrar puntuación
                const percentage = (correctCount / questions.length) * 100;
                scoreDisplay.classList.add('show');
                
                let message = '';
                let scoreClass = '';

                if (percentage === 100) {
                    playSound('levelComplete');
                    message = `¡PERFECTO! 🎉<br>Respondiste ${correctCount} de ${questions.length} correctamente<br>Eres un experto en Machine Learning`;
                    scoreClass = 'perfect';
                } else if (percentage >= 60) {
                    playSound('correct');
                    message = `¡Muy bien! 👍<br>Respondiste ${correctCount} de ${questions.length} correctamente<br>Tienes buenos conocimientos`;
                    scoreClass = 'good';
                } else {
                    playSound('incorrect');
                    message = `Sigue practicando 📚<br>Respondiste ${correctCount} de ${questions.length} correctamente<br>Repasa los niveles anteriores`;
                    scoreClass = 'needs-improvement';
                }

                scoreDisplay.innerHTML = message;
                scoreDisplay.classList.add(scoreClass);

                // Animación de puntuación
                gsap.from('#quiz-score', {
                    scale: 0.5,
                    opacity: 0,
                    duration: 0.8,
                    ease: 'elastic.out(1, 0.5)'
                });
            });
        }
    </script>
</body>
</html>